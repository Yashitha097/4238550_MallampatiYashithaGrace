#include <stdio.h>
char* balanced_b(char string_1[]){
    char ar_1[10000];
    int upper_1 =0;
    int i=0;
    while(string_1[i] != '\0'){
        char ch_1 = string_1[i];
        if (ch_1 == '(' || ch_1 == '{'|| ch_1=='['){
            ar_1[upper_1]=ch_1;
            upper_1++;
        }
        else{
            if(upper_1==0){
                return "NO";
            }
            char lower_one= ar_1[upper_1 -1];
            upper_1--;
            if((ch_1==')'&& lower_one != '(')||(ch_1=='}'&&lower_one != '{')||(ch_1==']'&&lower_one != '[')){
                return "NO";
            }
        }
        i++;
    }
    if (upper_1 ==0){
        return "YES";
    }
    else{
        return "NO";
    }
}
int main(){
    int num;
    scanf("%d",&num);
    while(num--){
        char str_1[1000];
        scanf("%s",str_1);
        printf("%s\n",balanced_b(str_1));
    }
    return 0;
}